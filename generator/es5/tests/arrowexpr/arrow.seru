class SomePromise {
	function<promise<bool>> Then(resolve function<void>(bool)) {
		resolve(true)
		return this
	}

	function<promise<bool>> Catch(rejection function<void>(error)) {
		return this
	}
}

function<bool?> DoSomething(p promise<bool>) {
   var<bool?> somebool
   somebool <- p
   return somebool
}

function<any> TEST() {
  return DoSomething(SomePromise.new())
}