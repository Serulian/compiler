class SomePromise {
	function<promise<int>> Then(callback function<void>(int)) {
		return this
	}

	function<promise<int>> Catch(callback function<void>(error)) {
		return this	
	}
}

function<void> DoSomething() {
	var<SomePromise> promise = SomePromise.new()
	var<int> someInt = 2

	/* await */(<- promise)
	/* arrow */(someInt <- promise)
}

function<void> NullableTest() {
	var<SomePromise> promise = SomePromise.new()
	var<int?> someInt
	someInt <- promise
}

function<void> RejectionTest() {
	var<SomePromise> promise = SomePromise.new()
	var<int?> someInt
	var<error?> someError

	someInt, _ <- promise
	_, someError <- promise
	_, _ <- promise
}